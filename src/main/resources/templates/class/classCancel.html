<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">

<title>My Fitness Program - 수업취소</title>

<!-- Google Fonts -->
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
	rel="stylesheet" />

<!-- Vendor CSS Files -->
<link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet" />
<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
<link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
<link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
<link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

<!-- Template Main CSS File -->
<link href="assets/css/style_board.css" rel="stylesheet">

<script>
	function classCancelCheck() {
		var seq = document.getElementById("rseq").value;
		var mPwd = document.getElementById("mPwd").value;
		var mPwd2 = document.getElementById("mPwdPut").value;
		
		if(mPwd == mPwd2) {
			var returnValue = confirm('예약을 취소하시겠습니까?');
			if(returnValue) {
				alert('취소되었습니다.')
				location.href="/classCancel?rseq="+seq;
				
				window.opener.name="parentPage";
				document.classCancel.target="parentPage";
				document.classCancel.action="/classCalendarView";
				document.classCancel.submit();
				
				self.close();
			} else {
				alert('Class Checking 페이지로 이동합니다.');
				
				self.close();
			}
		} else {
			alert("회원 비밀번호가 일치하지 않습니다.");
			return false;
		}
	}
	function cancel() {
		window.close();
	}
</script>
</head>
<body>
	<section class="myContent">
		<div class="container">
			<div class="board_wrap">
				<br>
				<br>
				<div class="board_title">
					<strong>수업 취소</strong>
				</div>
				<div class="board_write_wrap">
					<form th:action="@{/classCancel}" name="classCancel">
						<input type="hidden" th:value="${reservation.rseq}" id="rseq">
						<input type="hidden" th:value="${reservation.member.password}" id="mPwd">
						<div class="board_write">
						<br>
						<div class="title">
							<p>수업 예약 취소를 원하시면 회원 비밀번호를 입력해주세요.</p>
						</div>
							<dl>
								<dd>
									<strong>회원 비밀번호</strong>
									<input type="password" name="mPwdPut" placeholder="비밀번호 입력" id="mPwdPut">
								</dd>
								<br>
								<br>
							</dl>
						<hr>
						</div>
						<div class="bt_wrap">
							<button type="button" onclick="classCancelCheck()" class="btItem">예약취소</button>
							<button type="button" onclick="cancel()" class="btItem">취소</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>
</body>
</html>